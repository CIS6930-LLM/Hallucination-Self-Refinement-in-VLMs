Bootstrap: docker
From: pytorch/pytorch:2.2.2-cuda12.1-cudnn8-runtime

%post
    apt-get update && apt-get install -y git git-lfs ffmpeg libgl1-mesa-glx && rm -rf /var/lib/apt/lists/*
    pip install --no-cache-dir -U pip
    # Copy requirements from bind mount during build or install minimal set here
    # pip install -r /workspace/requirements.txt

%environment
    export HF_HOME=/workspace/.cache/huggingface
    export TRANSFORMERS_CACHE=/workspace/.cache/huggingface

%labels
    Author "Self-Refinement VLMs"
    Description "Container for hallucination self-refinement experiments"

